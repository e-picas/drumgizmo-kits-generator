# DrumGizmo Kits Generator

A Python tool for generating drum kits for [DrumGizmo](https://drumgizmo.org/), a multichannel drum sampler, from a directory of audio sources.

## Features

- Generate DrumGizmo kits from audio samples
- Support for multiple audio formats (WAV, FLAC, OGG)
- Automatic creation of volume variations (10 levels)
- Alphabetical sorting of instruments and assignment of consecutive MIDI notes
- Read metadata from a configuration file
- Copy additional files to the final kit
- Complete command-line interface

## Prerequisites

- [Python 3.8](https://www.python.org/downloads/) or higher
- [SoX (Sound eXchange)](https://sourceforge.net/projects/sox/) for audio processing
- [PyLint](https://pypi.org/project/pylint/) and [Python Coverage](https://coverage.readthedocs.io/) for development

## Installation

Download and extract [the latest release](https://github.com/e-picas/drumgizmo-kits-generator/releases).

## Usage

### Command Line

```bash
python create_drumgizmo_kit.py -s /path/to/sources -t /path/to/target -c /path/to/config.ini
```

### Options

```
Options:
  -h, --help            Show this help message
  -s SOURCE, --source SOURCE
                        Source directory containing audio samples
  -t TARGET, --target TARGET
                        Target directory for the DrumGizmo kit
  -c CONFIG, --config CONFIG
                        Configuration file for kit metadata
  -n NAME, --name NAME  Kit name
  -v VERSION, --version VERSION
                        Kit version
  -d DESCRIPTION, --description DESCRIPTION
                        Kit description
  -a AUTHOR, --author AUTHOR
                        Kit author
  -l LICENSE, --license LICENSE
                        Kit license
  -w WEBSITE, --website WEBSITE
                        Kit website
  -r SAMPLERATE, --samplerate SAMPLERATE
                        Kit sample rate
  -p INSTRUMENT_PREFIX, --instrument-prefix INSTRUMENT_PREFIX
                        Prefix for instrument names
  -e EXTENSIONS, --extensions EXTENSIONS
                        Audio file extensions to search for (comma-separated)
  --extra-files EXTRA_FILES
                        Additional files to copy to the kit (comma-separated)
```

### Configuration File

You can specify kit metadata in a configuration file (e.g., `drumgizmo-kit.ini`):

```ini
KIT_NAME = "My Drum Kit"
KIT_VERSION = "1.0.0"
KIT_DESCRIPTION = "An acoustic drum kit"
KIT_NOTES = "Recorded in a professional studio"
KIT_AUTHOR = "Your Name"
KIT_LICENSE = "CC-BY-SA"
KIT_WEBSITE = "https://your-site.com"
KIT_SAMPLERATE = "44100"
KIT_INSTRUMENT_PREFIX = "MyKit"
KIT_LOGO = "logo.png"
KIT_EXTRA_FILES = "README.txt,LICENSE.txt,photo.jpg"
```

## Generated Kit Structure

The generated kit will have the following structure:

```
kit/
├── drumkit.xml
├── midimap.xml
├── Instrument1/
│   ├── instrument.xml
│   └── samples/
│       ├── 1-Instrument1.wav
│       ├── 2-Instrument1.wav
│       └── ...
├── Instrument2/
│   ├── instrument.xml
│   └── samples/
│       ├── 1-Instrument2.wav
│       ├── 2-Instrument2.wav
│       └── ...
└── ...
```

## Development

To fix a bug or make a proposal in this app, you may commit to a personal branch, push it to the repo and then
make a "Pull request" explaining your modification.

### Get the sources

Clone this repository:

```bash
git clone https://github.com/e-picas/drumgizmo-kits-generator.git
cd drumgizmo-kits-generator
```

### Install the project

To install the dependencies and git hooks, run:

```bash
make install
```

The hooks will run the linter and tests before each commit and validate that your commit message follows the [conventional commit format](https://www.conventionalcommits.org/en/v1.0.0/). They are run in the CI for validation.

### Local validation

To run unit tests locally:

```bash
make test
```

To get the coverage levels:

```bash
make coverage
```

To check the code with pylint:

```bash
make lint
```

## License

This project is licensed under the [MIT](LICENSE) license.

## Author

- This software is generated by [Claude 3.7 Sonnet](https://claude.ai/) guided by myself ^^
- "myself" is e-Picas (<https://github.com/e-picas>)
